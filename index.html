<!DOCTYPE html>
<html>
  <head>
    <title>CCGaming 4.0 Project Hub</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script>
      $(document).ready(function() {

        var api_base_url = 'https://api.github.com';
        var organization_name = 'TheChristianCrew';

        CC_HUB = {

          // Returns list of issues
          list_issues: function(repo, milestone_number) {

            // Build endpoint
            var endpoint = api_base_url +'/repos/'+ organization_name +'/'+ repo +'/issues?milestone='+ milestone_number;

            // Get data
            $.getJSON(endpoint, function(result) {
              if (result.length != 0) {
                $.each(result, function(i) {
                  console.log(repo +':'+ result);
                  $('#'+ repo).append('<li><a href="'+ result[i].html_url +'">'+ result[i].title +'</a></li>');
                });
              } else {
                $('#'+ repo).append('<li class="no-issues">No issues</li>');
              }
            });
          }

        }

        CC_HUB.list_issues('wp_christiancrew', 1);
        CC_HUB.list_issues('phpbb_christiancrew', 1);

      });
    </script>
  </head>
  <body>

    <div class="page-wrap">

      <h1 class="site-title">CCGaming 4.0 Project Hub</h1>

      <section class="project">

        <header class="project-header">
          <h2 class="project-title">wp_christiancrew</h2>
          <p class="project-description">Issues/tasks related to the WordPress theme.</p>
          <ul class="project-links">
            <li><a href="#">GitHub Repository</a></li>
            <li><a href="#">Development Site</a></li>
          </ul>
        </header>

        <h3>Recent Changes <span><a href="#">View More</a></span></h3>

        <h3>Issues / Tasks <span># Open / # Closed | <a href="#">Report Issue</a></span></h3>
        <ul class="project-issues-list" id="wp_christiancrew"></ul>

      </section>

      <section class="project">

        <header class="project-header">
          <h2 class="project-title">phpbb_christiancrew</h2>
          <p class="project-description">Issues/tasks related to the phpBB theme.</p>
        </header>

        <h3>Recent Changes</h3>

        <h3>Issues / Tasks</h3>
        <ul class="project-issues-list" id="phpbb_christiancrew"></ul>

      </section>

    </div>

  </body>
</html>
